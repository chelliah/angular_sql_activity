/*! angular_factory_lecture 2015-11-17 */
myApp.controller("AddressController",["$scope","$http",function(a,b){a.users=[],a.activeName=null,a.addresses=[],a.getNames=function(){b.get("/address/names").then(function(b){console.log("hi from address"),console.log(b),a.users=b.data})},a.getData=function(){console.log(a.activeName),b.get("/address/addresses",{params:a.activeName}).then(function(b){console.log(b),a.addresses=b.data})},a.getNames()}]),myApp.controller("OrderController",["$scope","$http",function(a,b){a.users=[],a.activeName=null,a.startDate=null,a.endDate=null,a.orders=[],a.orderTotal=null,a.getNames=function(){b.get("/address/names").then(function(b){console.log("hi from address"),console.log(b),a.users=b.data})},a.getData=function(){a.activeName&&a.startDate&&a.endDate&&(a.activeName.startDate=a.startDate,a.activeName.endDate=a.endDate,console.log(a.activeName),b.get("/address/order",{params:a.activeName}).then(function(b){console.log(b),a.orders=b.data,a.calculateTotal()}))},a.calculateTotal=function(){a.orderTotal=0;for(var b=0;b<a.orders.length;b++)console.log(a.orders[b]),a.orderTotal+=Number(a.orders[b].amount)},a.getNames()}]);